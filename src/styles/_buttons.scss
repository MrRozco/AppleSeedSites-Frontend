// ...existing code...
@mixin button {
  position: relative;
  display: inline-block;
  -webkit-tap-highlight-color: transparent;
  padding: 0.9rem 2.25rem;
  border-radius: 1.25rem;
  text-transform: uppercase;
  font-size: 0.95rem;
  font-weight: 600;

  /* ensure text has a safe fallback color */
  color: var(--button-text, #ffffff);
  cursor: pointer;
  text-decoration: none;

  /* explicit base color + gradient image using CSS vars (fallbacks included) */
  background-color: var(--buttons, #2B6CB0);
  background-image: linear-gradient(90deg, var(--buttons, #2B6CB0) 0%, var(--buttons-hover, #2C5282) 100%);
  background-repeat: no-repeat;
  background-size: 0% 100%;

  /* 3D base using theme tokens with fallback */
  box-shadow: var(--btn-shadow, 0 8px 0 rgba(0,0,0,0.12), 0 12px 24px rgba(0,0,0,0.06));
  transform: translateY(0);
  transition: transform 160ms ease, box-shadow 160ms ease, background-size 360ms cubic-bezier(0.4,0,0.2,1), color 180ms;

  &:hover {
    background-size: 100% 100%;
    transform: translateY(-2px);
    box-shadow: 0 12px 0 rgba(0,0,0,0.16), 0 20px 36px rgba(0,0,0,0.10);
  }

  &:active,
  &.pressed {
    transform: translateY(4px);
    box-shadow: var(--btn-shadow-pressed, 0 4px 0 rgba(0,0,0,0.10), 0 8px 16px rgba(0,0,0,0.06));
  }

  &:focus-visible {
    outline: none;
    box-shadow: var(--btn-shadow, 0 8px 0 rgba(0,0,0,0.12)), 0 0 0 6px rgba(52,124,248,0.12);
  }

  &::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background: linear-gradient(180deg, var(--btn-highlight, rgba(255,255,255,0.06)), rgba(0,0,0,0));
    mix-blend-mode: overlay;
    transition: opacity 160ms;
    opacity: 1;
  }

  &:active::after,
  &.pressed::after { opacity: 0.35; }
  &:hover::after { opacity: 0.6; }
}

/* Secondary Button - uses secondary color */
@mixin button-secondary {
  @include button;
  background-color: var(--secondary, #F6AD55);
  background-image: linear-gradient(90deg, var(--secondary, #F6AD55) 0%, darken(#F6AD55, 10%) 100%);
}

/* Button Size Variants */
@mixin button-small {
  @include button;
  padding: 0.6rem 1.5rem;
  font-size: 0.85rem;
  border-radius: 1rem;
  box-shadow: var(--btn-shadow, 0 6px 0 rgba(0,0,0,0.12), 0 8px 16px rgba(0,0,0,0.06));

  &:hover {
    box-shadow: 0 8px 0 rgba(0,0,0,0.16), 0 12px 24px rgba(0,0,0,0.10);
  }

  &:active,
  &.pressed {
    box-shadow: var(--btn-shadow-pressed, 0 3px 0 rgba(0,0,0,0.10), 0 6px 12px rgba(0,0,0,0.06));
  }
}

@mixin button-secondary-small {
  @include button-small;
  background-color: var(--secondary, #F6AD55);
  background-image: linear-gradient(90deg, var(--secondary, #F6AD55) 0%, darken(#F6AD55, 10%) 100%);
}

@mixin button-large {
  @include button;
  padding: 1.2rem 3rem;
  font-size: 1.1rem;
  border-radius: 1.5rem;
  box-shadow: var(--btn-shadow, 0 10px 0 rgba(0,0,0,0.12), 0 16px 32px rgba(0,0,0,0.06));

  &:hover {
    box-shadow: 0 14px 0 rgba(0,0,0,0.16), 0 24px 48px rgba(0,0,0,0.10);
  }

  &:active,
  &.pressed {
    box-shadow: var(--btn-shadow-pressed, 0 5px 0 rgba(0,0,0,0.10), 0 10px 20px rgba(0,0,0,0.06));
  }
}

@mixin button-secondary-large {
  @include button-large;
  background-color: var(--secondary, #F6AD55);
  background-image: linear-gradient(90deg, var(--secondary, #F6AD55) 0%, darken(#F6AD55, 10%) 100%);
}
// ...existing code...